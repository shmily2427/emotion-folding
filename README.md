# 情境折影 | Fragments of Affection

一个基于 Three.js 的 3D 情感主题交互场景，通过视角折叠空间，讲述母亲与孩子在悬浮几何世界中的无声旅程。

## 项目简介

本项目以"情"为核心，通过纪念碑谷式的视错觉机制，表现母亲与孩子之间的依赖、引导、距离与理解。玩家通过变换视角，帮助母亲为孩子找出一条可见之路，当视角对齐时，原本断裂的桥梁在视觉上连接，母子得以重逢。

## 核心玩法

### 视错觉桥梁机制
- **视角变换**：通过切换不同的相机视角，改变场景的视觉呈现
- **情感视角对齐**：当相机处于特定角度时，两段断开的桥在屏幕上看似连成一条路
- **机关操作**：触发引路机关，让桥段移动或旋转，强化对齐的视觉错觉
- **母子会合**：当桥"看上去连通"时，允许母亲和孩子从各自平台走上桥，对面会合

### 情感设计
- **依赖**：母亲先行、孩子跟随
- **引导**：母亲为孩子"铺路"（通过视错觉将断桥连接）
- **距离与误解**：当视角不对时，路是断的，母与子分离在桥两端
- **理解与重合**：当视角对齐，断裂的结构在屏幕投影中"看似"连接，母子得以重逢同行

## 技术特性

- **Three.js 3D 渲染**：使用 WebGLRenderer 进行实时渲染
- **场景管理**：支持从配置文件读取场景描述，定义物体位置、颜色等属性
- **相机管理**：多个预设视角（母亲视角、孩子视角、情感视角对齐），支持平滑切换动画
- **光照模型**：点光源 + Phong 局部光照模型 + 阴影效果
- **纹理映射**：为场景对象添加纹理，增强视觉表现
- **模型加载**：支持加载 glTF 格式的 3D 模型
- **场景截图**：支持将当前渲染场景保存为 PNG 图像

## 运行方式

### 本地运行

1. 确保已安装 Node.js（可选，用于本地服务器）
2. 使用任意 HTTP 服务器运行项目，例如：
   ```bash
   # 使用 Python
   python -m http.server 8000
   
   # 或使用 Node.js 的 http-server
   npx http-server -p 8000
   
   # 或使用 VS Code 的 Live Server 插件
   ```
3. 在浏览器中访问 `http://localhost:8000`

### GitHub Pages 部署

1. 将项目推送到 GitHub 仓库
2. 在仓库设置中启用 GitHub Pages
3. 选择主分支（main/master）作为源
4. 访问 `https://[你的用户名].github.io/[仓库名]/`

## 项目结构

```
project-root/
│── index.html          # 主 HTML 文件
│── main.js            # 主入口文件
│── README.md          # 项目说明文档
│── styles.css         # 样式文件
│── /src
│    ├── scene.js      # 场景管理模块
│    ├── camera.js     # 相机管理模块
│    ├── controls.js   # 控制模块
│    ├── objects.js    # 对象管理模块
│    ├── lighting.js   # 光照模块
│    └── ui.js         # UI 模块
│── /assets
│    ├── models/       # 3D 模型文件（glTF 格式）
│    ├── textures/     # 纹理文件
│    └── skybox/       # 天空盒纹理
│── /utils
│    ├── loader.js     # 模型加载工具
│    └── saveImage.js  # 截图保存工具
```

## 操作说明

- **鼠标拖动**：旋转视角
- **鼠标滚轮**：缩放场景
- **母亲视角**：切换到母亲视角（略俯视，母亲在画面前侧）
- **孩子视角**：切换到孩子视角（稍远，看到母亲在远处平台上）
- **情感视角对齐**：切换到特殊角度，让断桥在视觉上连接
- **触发机关：引路**：控制桥或平台移动，让母亲为孩子"搭路"
- **保存此刻记忆**：将当前画面保存为 PNG 图像

## 艺术风格

- **配色**：柔灰、薄青、暖粉等纪念碑谷式配色
- **画面风格**：极简、干净，留白较多
- **光照**：柔和不刺眼，适合表现温柔的情绪
- **雾效果**：轻微雾感，增加空间层次感与"记忆感"

## 浏览器兼容性

- Chrome/Edge（推荐）
- Firefox
- Safari

需要支持 WebGL 的现代浏览器。

## 开发说明

本项目使用模块化设计，每个模块独立职责：
- `scene.js`：场景搭建和场景配置管理
- `camera.js`：相机初始化和视角切换
- `controls.js`：用户交互控制
- `objects.js`：几何体和模型对象管理
- `lighting.js`：光照和阴影设置
- `ui.js`：用户界面更新和状态提示

## 许可证

本项目为教育用途，遵循 MIT 许可证。

