一、情感世界观与故事设定（围绕“情”的主题）
本项目的核心是“情”：
一位母亲与孩子在悬浮几何世界中的无声旅程。
• 情感背景：
• 场景是一座悬空的“情境之庭”，类似纪念碑谷的花园、阶梯与平台。
• 玩家看到的是一个母亲角色与一个孩子角色（可用简洁 glTF 模型表示），母亲由玩家间接控制，孩子以“跟随/等待”的方式体现依恋。
• 通过视角变化与机关操作，表现：
• 依赖： 母亲先行、孩子跟随
• 引导： 母亲为孩子“铺路”（通过视错觉将断桥连接）
• 距离与误解： 当视角不对时，路是断的，母与子分离在桥两端
• 理解与重合： 当视角对齐，断裂的结构在屏幕投影中“看似”连接，母子得以重逢同行
• 情感节奏设计：
• 起点阶段：安全、温柔的“家”——简单平台与柔色调，母子在同一个小平台上。
• 过渡阶段：出现需要视角对齐的断桥，象征“需要尝试理解对方的角度”。
• 解谜成功时：母子能共同站在同一平台上，作为一次“情感上的相聚”。
整个玩法不是打怪或得分，而是通过视角变换 + 空间折叠，让玩家“帮母亲为孩子找出一条可见之路”。
 
二、总体目标（技术 + 情感）
实现一个可在主流浏览器中运行的 3D 情感主题场景，包含：
• 空间错位
• 可操作机关
• 奇异视角变换
整体美术风格参考 Monument Valley（柔色调、干净、不繁杂），并以“母女之情、牵手前行”为叙事基调。
要求能够在 GitHub 上部署。
项目由 Three.js 构建，需实现：
1. 自建场景、相机、光照
2. 可加载外部模型（glTF），用于母亲/孩子或情感象征物（如柱子、雕像）
3. 具有可交互的机关或视角变换，与母子能否会合强相关
4. 完整的用户界面，要求能够响应用户输入，并能实时输出提示信息（包括简单的情感文字，引导玩家理解“视角与情”的联系）
5. 场景管理功能，能够建立或读取场景描述文件，定义场景中的相机、光源、几何体、材质等属性，场景中支持不少于三个物体
6. 相机管理，能够根据相机参数，实现相机模型
7. 光源与光照模型，支持点光源，可以添加一个或多个点光源，实现基本的 Phong 局部光照模型，并能正确实现阴影效果（象征“情感中的明暗”），选做实现光线追踪效果，如镜面效果
8. 为场景对象添加纹理映射，选做凹凸映射、天空盒等效果
9. 支持场景图像输出功能，将渲染场景保存成常见的图像格式，如 png, jpg
10. 使用 WebGLRenderer
 
三、项目结构（Cursor 需要生成）
请生成以下目录结构（模块化，每个模块独立职责）：
text
 
复制代码
project-root/
│── index.html
│── main.js
│── README.md
│── /src
│    ├── scene.js
│    ├── camera.js
│    ├── controls.js
│    ├── objects.js
│    ├── lighting.js
│    └── ui.js
│── /assets
│    ├── models/
│    │    ├── mother.glb        # 母亲角色（简洁抽象造型）
│    │    └── child.glb         # 孩子角色（简洁抽象造型）
│    ├── textures/
│    └── skybox/
│── /utils
│    ├── loader.js
│    └── saveImage.js
│── styles.css
 
四、需要实现的功能
1. 完整用户界面（UI）
UI 用 HTML + CSS，不嵌入 Three.js 场景。
• 左上角：标题与情感提示文本
• 标题：情境折影 | Fragments of Affection
• 下方一行细小文字提示，例如：
• “从不同的角度，看见你与她之间的路。”
• 当前情境状态，如：
• “状态：母亲在为孩子寻找一条路。”
• “提示：旋转视角，也许断裂只是误会。”
• 右侧：交互按钮（与情感玩法绑定）
• 视角一：母亲视角（偏近景，母亲在前，引导孩子）
• 视角二：孩子视角（稍远，看到母亲在前方等待）
• 情感视角对齐（自动转到“断桥看似连上”的特殊角度）
• 触发机关：引路（控制桥或平台移动，让母亲为孩子“搭路”）
• 底部：截图按钮（保存 PNG）
• 保存此刻记忆 按钮（功能：截图）
• 点击后调用截图逻辑，将当前画面保存为 PNG，象征“把这一刻的相聚/理解定格”。
2. 场景管理（scene.js）
生成一个 scene.js，必须包含：
• 多个几何体（≥ 3 个）：
• 纪念碑谷式的楼梯、平台、立方体结构，组成一个悬浮的小庭院：
• 母亲所在的平台
• 孩子所在的平台
• 断开的桥（中央）
• 至少一个动态结构：
• 如可上下/左右移动的桥段或平台，表示“母亲为孩子调整路径”的动作。
• 允许从 .json 或 .js 文件读取场景描述（物体位置/颜色/是否为情感关键物体），例如：
• sceneConfig.json 中定义：
• 每个平台的位置、颜色（暖色调代表亲近，冷色调代表距离）
• 哪一段是“情感桥梁”（需要与相机联动）
• 加载 glTF 模型：
• 加载 mother.glb 和 child.glb：
• 母亲角色固定由玩家间接操控所在位置（如移动平台）
• 孩子角色在逻辑上可跟随或停留，表现场景中的亲子关系
3. 相机管理（camera.js）
使用 PerspectiveCamera，支持：
• 鼠标旋转与缩放（OrbitControls 或自写控制）
• 多个预设视角（按按钮自动切换）：
• 母亲视角：略俯视，母亲在画面前侧
• 孩子视角：略仰视，母亲在远处平台上
• 情感视角对齐：特殊角度，让两段断开的桥在屏幕投影上看似连成一条路
• 模拟纪念碑谷“视角变换解谜”的效果：
• 当相机切换到“情感视角对齐”时：
• 在 3D 世界中桥仍然是断开的，但在屏幕上投影对齐，看起来可通行；
• 逻辑上允许母亲/孩子“通过”这条桥，象征：
换一个视角，原本无法跨越的距离，突然就有了路。
4. 光照与光照模型（lighting.js）
要求：
• 至少两个点光源（颜色可调）：
• 一个柔和暖色光源，代表“亲密/情感之光”，靠近母子所在区域。
• 一个偏冷色或中性色光源，代表“距离/未知”，照在远端平台或背景。
• 基于 Phong 模型的材质（如 MeshPhongMaterial）
• 物体可投射阴影 + 接受阴影：
• 母亲、孩子、主要平台都有柔和阴影，体现空间层次与“情感重量”。
• 环境光：
• 用于整体柔化场景，使画面有“纪念碑谷式”的温柔感。
5. 纹理映射
为至少一个物体添加：
• 颜色纹理（TextureLoader）：
• 比如“记忆之石”平台：带有淡淡花纹或抽象纹理，暗示这块平台是母女共同回忆的地方。
（选做：凹凸映射、天空盒等）
6. 场景图像输出功能（utils/saveImage.js）
生成 utils/saveImage.js：
• 提供一个函数 saveCurrentView(renderer)：
• 内部使用 renderer.domElement.toDataURL("image/png")
• 生成下载链接，让用户保存当前视角为 PNG 图像。
• 底部 UI 的“保存此刻记忆”按钮调用该函数，实现截图下载。
 
五、项目核心玩法（纪念碑谷式机制 + 情感）
视错觉机关：透视桥梁（母女能否会合的关键）
实现一个结构，当相机处于某一特定角度时：
• 两段断开的桥在屏幕上看似连上；
• 玩家按“情感视角对齐”按钮 → 相机平滑转动到该角度（使用 Tween.js 或自写补间动画）；
• 在该角度下：
• 可以点击右侧 UI 中的“触发机关：引路”按钮，让桥段略微移动或轻微旋转，强化“对齐”的视觉错觉；
• 当桥“看上去连通”时，允许母亲/孩子从各自平台走上桥，对面会合。
从设计意义上：
• “视角 = 理解对方的角度”
• “桥 = 母亲与孩子之间的情感通路”
• “机关 = 主动调整自己的位置 / 视角，来靠近对方”
技术点要求：
• 使用 Three.js 进行相机与物体位置设计，使桥在某一相机角度下投影重合。
• 使用 Tween.js 或自写缓动函数，完成：
• 相机视角平滑旋转切换
• 桥段/平台的位移动画
• 与逻辑绑定：
• 只有在“对齐视角”状态下，才允许母子穿越这条桥（可通过简单 boolean 或状态机控制）。
 
六、整体艺术风格（偏留白 + 情绪色彩）
• 配色：柔灰、薄青、暖粉等纪念碑谷式配色，
• 母子所在区域偏暖；
• 远处未探索区域偏冷。
• 画面风格：极简、干净，留白较多，让玩家把注意力放在空间与角色的关系上。
• 雾效果：使用 FogExp2 添加轻微雾感，增加空间层次感与“记忆感”。
• 光照柔和不刺眼，适合表现温柔的情绪。
 
七、生成步骤要求（对 Cursor 的指令）
1. 先生成整体项目结构与基础文件（空壳 + 基本初始化代码）。
2. 然后逐步填充模块：
• scene.js：搭建纪念碑谷式平台/桥 + 情感布局（母子位置）。
• camera.js：相机初始化 + 预设视角 + 视角补间切换。
• lighting.js：环境光 + 两个点光源 + 阴影。
• objects.js：创建几何体、加载 glTF 母亲/孩子模型，定义桥段、移动平台。
• controls.js：OrbitControls + 自定义按钮绑定逻辑 + 视角切换动画。
• ui.js：创建/获取 HTML UI 元素，更新提示文案（与情感状态相关，如“母亲正在等待孩子”）。
3. 最后编写 index.html 与 styles.css，实现整体布局与纪念碑谷式极简 UI。
4. 在 main.js 中组合所有模块，完成初始化与渲染循环。
5. 保证项目能直接在本地运行（如 live-server），且能够部署在 GitHub Pages 上展示。
 
八、测试要求
• 页面加载后无报错（控制台清洁）。
• 所有 UI 按钮可正常交互：
• 视角切换
• 触发桥/平台机关
• 截图保存
• 相机控制流畅（鼠标拖动 + 预设视角切换补间效果）。
• 阴影正常显示（开启 renderer.shadowMap.enabled = true，并为相关物体设置 castShadow / receiveShadow）。
• 能成功截图并下载 PNG 文件。
• 从情感体验上：
• 玩家能明显感知：
• “换一个视角，世界与关系都不一样。”
• 当视角对齐、桥连上、母子会合时，有一个小的“情绪高潮”。
 
九、输出要求（Cursor 应生成）
• 模块化 JS 文件，遵循上面的目录结构。
• 简洁整齐的代码，关键函数包含适量注释：
• 对于与“情感相关”的逻辑（视角对齐、母子会合条件）请在注释中说明设计意图。
• 附带简单文档 README.md，说明：
• 项目简介（情境折影 = 通过视角折叠空间，讲述母亲与孩子的无声旅程）
• 运行方式（本地与 GitHub Pages）
• 核心玩法说明（视错觉桥梁 + 情感视角）
 
以上为完整提示词。请严格按照结构与情感设定实现一个可运行的 Three.js 项目，把“母亲引导孩子、通过视角对齐跨越距离”的“情”，落在具体场景、相机与机关设计中。